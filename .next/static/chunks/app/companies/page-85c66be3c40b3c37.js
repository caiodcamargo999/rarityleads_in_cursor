(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[758],{1088:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(5155),n=r(2115),s=r(5695),i=r(5060),d=r(6637),l=r(2099),o=r(3741);function c(){let[e,t]=(0,n.useState)([]),[r,c]=(0,n.useState)(!0),[u,b]=(0,n.useState)(!1),[m,x]=(0,n.useState)({name:"",industry:"",website:""}),[p,h]=(0,n.useState)(null),g=(0,s.useRouter)(),[y,f]=(0,n.useState)(!1);(0,n.useEffect)(()=>{(async()=>{let e=(0,l.b)();if(!e)return;let{data:{user:r}}=await e.auth.getUser();if(!r)return g.push("/auth");h(r);let{data:a,error:n}=await e.from("companies").select("id, name, data, created_at").eq("user_id",r.id).order("created_at",{ascending:!1});!n&&a&&t(a.map(e=>({id:String(e.id),name:String(e.name),data:e.data,created_at:String(e.created_at)}))),c(!1)})()},[g]);let v=async r=>{r.preventDefault();let a=(0,l.b)();if(!a||!p)return;c(!0);let{data:n,error:s}=await a.from("companies").insert({user_id:p.id,name:m.name,data:{industry:m.industry,website:m.website}}).select();!s&&n&&t([n[0],...e]),b(!1),x({name:"",industry:"",website:""}),c(!1)},w=async()=>{let e=(0,l.b)();e&&(await e.auth.signOut(),g.push("/auth"))};return(0,a.jsxs)("div",{className:"min-h-screen bg-main-bg flex",children:[(0,a.jsx)(i.A,{user:null!=p?p:void 0,onProfileClick:()=>f(!0)}),(0,a.jsxs)("main",{className:"flex-1 lg:ml-64 p-6",children:[(0,a.jsxs)("header",{className:"mb-8 flex items-center justify-between",children:[(0,a.jsx)("h1",{className:"text-3xl font-medium text-primary-text",children:"Companies"}),(0,a.jsx)(o.A,{variant:"primary","aria-label":"Add new company",onClick:()=>b(!0),children:"+ Add Company"})]}),u&&(0,a.jsxs)("form",{onSubmit:v,className:"bg-card-bg border border-border rounded-card p-6 mb-8 flex flex-col gap-4 max-w-md",children:[(0,a.jsx)("input",{className:"bg-main-bg border border-border rounded-btn px-4 py-2 text-primary-text",placeholder:"Company name",value:m.name,onChange:e=>x({...m,name:e.target.value}),required:!0}),(0,a.jsx)("input",{className:"bg-main-bg border border-border rounded-btn px-4 py-2 text-primary-text",placeholder:"Industry",value:m.industry,onChange:e=>x({...m,industry:e.target.value})}),(0,a.jsx)("input",{className:"bg-main-bg border border-border rounded-btn px-4 py-2 text-primary-text",placeholder:"Website",type:"url",value:m.website,onChange:e=>x({...m,website:e.target.value})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(o.A,{type:"submit",variant:"primary","aria-label":"Save company",children:"Save"}),(0,a.jsx)(o.A,{type:"button",variant:"secondary","aria-label":"Cancel",onClick:()=>b(!1),children:"Cancel"})]})]}),(0,a.jsx)("section",{children:r?(0,a.jsx)("div",{className:"text-secondary-text",children:"Loading..."}):0===e.length?(0,a.jsx)("div",{className:"text-secondary-text",children:"No companies found."}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{var t,r;return(0,a.jsxs)("div",{className:"bg-card-bg border border-border rounded-card p-6",children:[(0,a.jsx)("div",{className:"font-medium text-primary-text mb-2",children:e.name}),(0,a.jsx)("div",{className:"text-secondary-text text-sm mb-1",children:(null==(t=e.data)?void 0:t.industry)||"(Industry not specified)"}),(0,a.jsx)("div",{className:"text-secondary-text text-sm mb-2",children:(null==(r=e.data)?void 0:r.website)||"(Website not specified)"}),(0,a.jsxs)("div",{className:"text-xs text-secondary-text",children:["Created: ",new Date(e.created_at).toLocaleString()]})]},e.id)})})})]}),(0,a.jsx)(d.A,{user:null!=p?p:void 0,isVisible:y,onClose:()=>f(!1),onLogout:w})]})}},2596:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=function(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=function e(t){var r,a,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t)if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(a=e(t[r]))&&(n&&(n+=" "),n+=a)}else for(a in t)t[a]&&(n&&(n+=" "),n+=a);return n}(e))&&(a&&(a+=" "),a+=t);return a}},2768:(e,t,r)=>{Promise.resolve().then(r.bind(r,1088))},3741:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(5155),n=r(2115),s=r(2596),i=r(1934);let d={primary:"bg-gradient-to-r from-[#6D28D9] via-[#8B5CF6] to-[#232336] text-white shadow-lg hover:from-[#8B5CF6] hover:to-[#6D28D9] border-none",secondary:"bg-button-bg text-button-text border border-border hover:bg-button-hover-bg",outline:"bg-transparent text-primary-text border border-[#8B5CF6] hover:bg-[#232336] hover:text-white",danger:"bg-red-700 text-white border border-red-800 hover:bg-red-800"},l=(0,n.forwardRef)((e,t)=>{let{children:r,className:n,variant:l="primary",loading:o=!1,disabled:c,...u}=e;return(0,a.jsxs)(i.P.button,{ref:t,className:(0,s.A)("inline-flex items-center justify-center font-medium rounded-full px-8 py-4 text-lg transition-all duration-300 min-w-[160px] text-center group select-none disabled:opacity-50 disabled:cursor-not-allowed",d[l],n),whileHover:{scale:1.06,boxShadow:"0 2px 16px 0 rgba(139, 92, 246, 0.12)"},whileTap:{scale:.97},disabled:c||o,"aria-busy":o,...u,children:[o?(0,a.jsx)("span",{className:"inline-block animate-spin mr-2 w-5 h-5 border-2 border-t-transparent border-white rounded-full"}):null,r]})});l.displayName="Button";let o=l}},e=>{var t=t=>e(e.s=t);e.O(0,[874,934,825,956,441,684,358],()=>t(2768)),_N_E=e.O()}]);