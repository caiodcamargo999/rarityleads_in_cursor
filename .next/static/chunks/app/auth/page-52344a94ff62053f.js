(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{1579:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(5155),a=r(2115),n=r(6874),i=r.n(n),o=r(6766),l=r(5695),d=r(2099);function c(){let[e,t]=(0,a.useState)("login"),[r,n]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[b,m]=(0,a.useState)(!1),[x,p]=(0,a.useState)(!1),[g,h]=(0,a.useState)(null),[f,y]=(0,a.useState)(!1),[v,w]=(0,a.useState)(!1),[j,N]=(0,a.useState)(""),S=(0,l.useRouter)();(0,a.useEffect)(()=>{(async()=>{let e=(0,d.b)();if(!e)return;let{data:{user:t}}=await e.auth.getUser();t&&S.push("/dashboard")})()},[S]);let k=(e,t)=>{h({text:e,type:t}),setTimeout(()=>h(null),5e3)},E=async()=>{try{p(!0);let e=(0,d.b)();if(!e)return void k("Supabase not initialized","error");let{error:t}=await e.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/dashboard")}});if(t)throw t}catch(e){k(e instanceof Error?e.message:"An error occurred","error")}finally{p(!1)}},C=async e=>{if(e.preventDefault(),!r||!c)return void k("Please fill in all fields","error");try{p(!0);let e=(0,d.b)();if(!e)return void k("Supabase not initialized","error");let{data:t,error:s}=await e.auth.signInWithPassword({email:r,password:c});if(s)throw s;t.user&&!t.user.email_confirmed_at?(N(r),w(!0)):S.push("/dashboard")}catch(e){k(e instanceof Error?e.message:"An error occurred","error")}finally{p(!1)}},P=async e=>{if(e.preventDefault(),!r||!c)return void k("Please fill in all fields","error");if(c.length<6)return void k("Password must be at least 6 characters","error");try{p(!0);let e=(0,d.b)();if(!e)return void k("Supabase not initialized","error");let{error:t}=await e.auth.signUp({email:r,password:c,options:{emailRedirectTo:"".concat(window.location.origin,"/dashboard")}});if(t)throw t;N(r),w(!0)}catch(e){k(e instanceof Error?e.message:"An error occurred","error")}finally{p(!1)}},_=async()=>{try{p(!0);let e=(0,d.b)();if(!e)return void k("Supabase not initialized","error");let{error:t}=await e.auth.resend({type:"signup",email:j});if(t)throw t;k("Verification email sent!","success")}catch(e){k(e instanceof Error?e.message:"An error occurred","error")}finally{p(!1)}},A=async e=>{if(e.preventDefault(),!r)return void k("Please enter your email address","error");try{p(!0);let e=(0,d.b)();if(!e)return void k("Supabase not initialized","error");let{error:t}=await e.auth.resetPasswordForEmail(r,{redirectTo:"".concat(window.location.origin,"/auth")});if(t)throw t;k("Password reset link sent to your email!","success"),y(!1)}catch(e){k(e instanceof Error?e.message:"An error occurred","error")}finally{p(!1)}};return v?(0,s.jsx)("div",{className:"min-h-screen bg-main-bg flex items-center justify-center px-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full",children:[(0,s.jsx)("div",{className:"text-center mb-8",children:(0,s.jsx)(i(),{href:"/",className:"text-2xl font-medium text-primary-text no-underline tracking-wide",children:"Rarity Leads"})}),(0,s.jsxs)("div",{className:"bg-card-bg border border-border rounded-card p-8",children:[(0,s.jsx)("h3",{className:"text-xl font-medium text-primary-text mb-4 text-center",children:"Please verify your email"}),(0,s.jsxs)("p",{className:"text-secondary-text text-center mb-6",children:["We've sent a verification link to ",(0,s.jsx)("strong",{className:"text-primary-text",children:j}),"."]}),(0,s.jsx)("button",{onClick:_,disabled:x,className:"w-full bg-button-bg text-button-text font-medium rounded-btn py-3 px-6 transition-colors hover:bg-button-hover-bg disabled:opacity-50",children:x?"Sending...":"Resend Verification Email"}),(0,s.jsx)("button",{onClick:()=>{w(!1),t("login")},className:"w-full bg-transparent text-primary-text border border-border rounded-btn py-3 px-6 mt-3 transition-colors hover:bg-button-bg",children:"Back to Login"})]})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-main-bg flex items-center justify-center px-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full",children:[(0,s.jsx)("div",{className:"text-center mb-8",children:(0,s.jsx)(i(),{href:"/",className:"text-2xl font-medium text-primary-text no-underline tracking-wide",children:"Rarity Leads"})}),(0,s.jsxs)("div",{className:"bg-card-bg border border-border rounded-card p-8",children:[(0,s.jsxs)("div",{className:"flex mb-8 bg-button-bg rounded-btn p-1",children:[(0,s.jsx)("button",{onClick:()=>t("login"),className:"flex-1 py-2 px-4 rounded-btn font-medium transition-colors ".concat("login"===e?"bg-main-bg text-primary-text":"text-secondary-text hover:text-primary-text"),children:"Sign In"}),(0,s.jsx)("button",{onClick:()=>t("register"),className:"flex-1 py-2 px-4 rounded-btn font-medium transition-colors ".concat("register"===e?"bg-main-bg text-primary-text":"text-secondary-text hover:text-primary-text"),children:"Register"})]}),g&&(0,s.jsx)("div",{className:"mb-6 p-4 rounded-btn text-sm ".concat("success"===g.type?"bg-green-900/20 text-green-400 border border-green-800":"bg-red-900/20 text-red-400 border border-red-800"),children:g.text}),"login"===e&&!f&&(0,s.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[(0,s.jsxs)("button",{type:"button",onClick:E,disabled:x,className:"w-full bg-transparent text-primary-text border border-border rounded-btn py-3 px-6 flex items-center justify-center gap-3 transition-colors hover:bg-button-bg disabled:opacity-50",children:[(0,s.jsx)(o.default,{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",width:20,height:20,unoptimized:!0}),"Sign in with Google"]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("div",{className:"w-full border-t border-border"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"px-2 bg-card-bg text-secondary-text",children:"or"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"login-email",className:"block text-sm font-medium text-primary-text mb-2",children:"Email address"}),(0,s.jsx)("input",{type:"email",id:"login-email",value:r,onChange:e=>n(e.target.value),className:"w-full bg-main-bg border border-border rounded-btn px-4 py-3 text-primary-text placeholder-secondary-text focus:outline-none focus:ring-2 focus:ring-border",placeholder:"Enter your email",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"login-password",className:"block text-sm font-medium text-primary-text mb-2",children:"Password"}),(0,s.jsx)("input",{type:"password",id:"login-password",value:c,onChange:e=>u(e.target.value),className:"w-full bg-main-bg border border-border rounded-btn px-4 py-3 text-primary-text placeholder-secondary-text focus:outline-none focus:ring-2 focus:ring-border",placeholder:"Enter your password",required:!0})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",checked:b,onChange:e=>m(e.target.checked),className:"mr-2"}),(0,s.jsx)("span",{className:"text-sm text-secondary-text",children:"Remember me"})]}),(0,s.jsx)("button",{type:"button",onClick:()=>y(!0),className:"text-sm text-primary-text hover:text-secondary-text transition-colors",children:"Forgot password?"})]}),(0,s.jsx)("button",{type:"submit",disabled:x,className:"w-full bg-button-bg text-button-text font-medium rounded-btn py-3 px-6 transition-colors hover:bg-button-hover-bg disabled:opacity-50",children:x?"Signing in...":"Sign In"})]}),"register"===e&&(0,s.jsxs)("form",{onSubmit:P,className:"space-y-6",children:[(0,s.jsxs)("button",{type:"button",onClick:E,disabled:x,className:"w-full bg-transparent text-primary-text border border-border rounded-btn py-3 px-6 flex items-center justify-center gap-3 transition-colors hover:bg-button-bg disabled:opacity-50",children:[(0,s.jsx)(o.default,{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",width:20,height:20,unoptimized:!0}),"Sign up with Google"]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,s.jsx)("div",{className:"w-full border-t border-border"})}),(0,s.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,s.jsx)("span",{className:"px-2 bg-card-bg text-secondary-text",children:"or sign up with email"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"register-email",className:"block text-sm font-medium text-primary-text mb-2",children:"Email address"}),(0,s.jsx)("input",{type:"email",id:"register-email",value:r,onChange:e=>n(e.target.value),className:"w-full bg-main-bg border border-border rounded-btn px-4 py-3 text-primary-text placeholder-secondary-text focus:outline-none focus:ring-2 focus:ring-border",placeholder:"Enter your email",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"register-password",className:"block text-sm font-medium text-primary-text mb-2",children:"Password"}),(0,s.jsx)("input",{type:"password",id:"register-password",value:c,onChange:e=>u(e.target.value),minLength:6,className:"w-full bg-main-bg border border-border rounded-btn px-4 py-3 text-primary-text placeholder-secondary-text focus:outline-none focus:ring-2 focus:ring-border",placeholder:"Enter your password (min 6 characters)",required:!0})]}),(0,s.jsx)("button",{type:"submit",disabled:x,className:"w-full bg-button-bg text-button-text font-medium rounded-btn py-3 px-6 transition-colors hover:bg-button-hover-bg disabled:opacity-50",children:x?"Creating account...":"Create Account"})]}),f&&(0,s.jsxs)("form",{onSubmit:A,className:"space-y-6",children:[(0,s.jsx)("h3",{className:"text-xl font-medium text-primary-text mb-4 text-center",children:"Reset Password"}),(0,s.jsx)("p",{className:"text-secondary-text text-center mb-6",children:"Enter your email address to receive a password reset link."}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-primary-text mb-2",children:"Email address"}),(0,s.jsx)("input",{type:"email",id:"reset-email",value:r,onChange:e=>n(e.target.value),className:"w-full bg-main-bg border border-border rounded-btn px-4 py-3 text-primary-text placeholder-secondary-text focus:outline-none focus:ring-2 focus:ring-border",placeholder:"Enter your email",required:!0})]}),(0,s.jsx)("button",{type:"submit",disabled:x,className:"w-full bg-button-bg text-button-text font-medium rounded-btn py-3 px-6 transition-colors hover:bg-button-hover-bg disabled:opacity-50",children:x?"Sending...":"Send Reset Link"}),(0,s.jsx)("button",{type:"button",onClick:()=>y(!1),className:"w-full bg-transparent text-primary-text border border-border rounded-btn py-3 px-6 transition-colors hover:bg-button-bg",children:"Cancel"})]})]})]})})}},2099:(e,t,r)=>{"use strict";r.d(t,{b:()=>i});var s=r(5647),a=r(636);let n=null,i=()=>{if(!n){let e=a.env.NEXT_PUBLIC_SUPABASE_URL,t=a.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;e&&t&&(n=(0,s.UU)(e,t))}return n}},3680:(e,t,r)=>{Promise.resolve().then(r.bind(r,1579))}},e=>{var t=t=>e(e.s=t);e.O(0,[874,825,766,441,684,358],()=>t(3680)),_N_E=e.O()}]);