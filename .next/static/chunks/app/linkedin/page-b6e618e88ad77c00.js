(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[573],{2267:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(5155),s=a(2115),n=a(5695),l=a(5060),i=a(6637),d=a(2099);function c(){let[e,t]=(0,s.useState)([]),[a,c]=(0,s.useState)(!0),[o,u]=(0,s.useState)(!1),[m,x]=(0,s.useState)({profile_url:"",api_key:"",message_template:""}),[b,g]=(0,s.useState)(null),p=(0,n.useRouter)();(0,s.useEffect)(()=>{(async()=>{let e=(0,d.b)();if(!e)return;let{data:{user:a}}=await e.auth.getUser();if(!a)return p.push("/auth");g(a),t([]),c(!1)})()},[p]);let h=async a=>{a.preventDefault(),(0,d.b)()&&b&&(c(!0),t([{id:Date.now().toString(),user_id:b.id,data:m,status:"inactive",created_at:new Date().toISOString()},...e]),u(!1),x({profile_url:"",api_key:"",message_template:""}),c(!1))},f=e=>{switch(e){case"active":return"text-green-500";case"inactive":return"text-red-500";case"connecting":return"text-yellow-500";default:return"text-secondary-text"}},v=e=>{switch(e){case"active":return"Conectado";case"inactive":return"Desconectado";case"connecting":return"Conectando...";default:return"Desconhecido"}};return(0,r.jsxs)("div",{className:"min-h-screen bg-main-bg flex",children:[(0,r.jsx)(l.A,{user:null!=b?b:void 0,onProfileClick:()=>{}}),(0,r.jsxs)("main",{className:"flex-1 lg:ml-64 p-6",children:[(0,r.jsxs)("header",{className:"mb-8 flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-3xl font-medium text-primary-text",children:"LinkedIn"}),(0,r.jsx)("button",{className:"btn",onClick:()=>u(!0),children:"+ Nova Configura\xe7\xe3o"})]}),o&&(0,r.jsxs)("form",{onSubmit:h,className:"bg-card-bg border border-border rounded-card p-6 mb-8 flex flex-col gap-4 max-w-md",children:[(0,r.jsx)("input",{className:"bg-main-bg border border-border rounded-btn px-4 py-2 text-primary-text",placeholder:"URL do perfil LinkedIn",value:m.profile_url,onChange:e=>x({...m,profile_url:e.target.value}),required:!0}),(0,r.jsx)("input",{className:"bg-main-bg border border-border rounded-btn px-4 py-2 text-primary-text",placeholder:"API Key",value:m.api_key,onChange:e=>x({...m,api_key:e.target.value})}),(0,r.jsx)("textarea",{className:"bg-main-bg border border-border rounded-btn px-4 py-2 text-primary-text",placeholder:"Template de mensagem",rows:3,value:m.message_template,onChange:e=>x({...m,message_template:e.target.value})}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{type:"submit",className:"btn",children:"Salvar"}),(0,r.jsx)("button",{type:"button",className:"btn",onClick:()=>u(!1),children:"Cancelar"})]})]}),(0,r.jsx)("section",{children:a?(0,r.jsx)("div",{className:"text-secondary-text",children:"Carregando..."}):0===e.length?(0,r.jsx)("div",{className:"text-secondary-text",children:"Nenhuma configura\xe7\xe3o LinkedIn encontrada."}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{var t;return(0,r.jsxs)("div",{className:"bg-card-bg border border-border rounded-card p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("div",{className:"font-medium text-primary-text",children:(null==(t=e.data)?void 0:t.profile_url)||"(URL n\xe3o informada)"}),(0,r.jsx)("div",{className:"text-sm ".concat(f(e.status)),children:v(e.status)})]}),(0,r.jsxs)("div",{className:"text-xs text-secondary-text mb-4",children:["Criado em: ",new Date(e.created_at).toLocaleString()]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{className:"btn text-sm",children:"Conectar"}),(0,r.jsx)("button",{className:"btn text-sm",children:"Configurar"})]})]},e.id)})})})]}),(0,r.jsx)(i.A,{user:null!=b?b:void 0,isVisible:!0,onClose:()=>{},onLogout:()=>{}})]})}},5521:(e,t,a)=>{Promise.resolve().then(a.bind(a,2267))}},e=>{var t=t=>e(e.s=t);e.O(0,[874,825,956,441,684,358],()=>t(5521)),_N_E=e.O()}]);