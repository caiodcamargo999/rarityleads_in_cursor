(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{1579:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>m});var a=t(5155),s=t(2115),i=t(6874),n=t.n(i),l=t(6766),o=t(5695),d=t(2099),c=t(3741);function m(){let[e,r]=(0,s.useState)("login"),[t,i]=(0,s.useState)(""),[m,u]=(0,s.useState)(""),[b,x]=(0,s.useState)(!1),[g,h]=(0,s.useState)(!1),[p,f]=(0,s.useState)(null),[y,v]=(0,s.useState)(!1),[w,j]=(0,s.useState)(!1),[N,S]=(0,s.useState)(""),k=(0,o.useRouter)();(0,s.useEffect)(()=>{(async()=>{let e=(0,d.b)();if(!e)return;let{data:{user:r}}=await e.auth.getUser();r&&k.push("/dashboard")})()},[k]);let A=(e,r)=>{f({text:e,type:r}),setTimeout(()=>f(null),5e3)},C=async()=>{try{h(!0);let e=(0,d.b)();if(!e)return void A("Supabase not initialized","error");let{error:r}=await e.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(window.location.origin,"/dashboard")}});if(r)throw r}catch(e){A(e instanceof Error?e.message:"An error occurred","error")}finally{h(!1)}},E=async e=>{if(e.preventDefault(),!t||!m)return void A("Please fill in all fields","error");try{h(!0);let e=(0,d.b)();if(!e)return void A("Supabase not initialized","error");let{data:r,error:a}=await e.auth.signInWithPassword({email:t,password:m});if(a)throw a;r.user&&!r.user.email_confirmed_at?(S(t),j(!0)):k.push("/dashboard")}catch(e){A(e instanceof Error?e.message:"An error occurred","error")}finally{h(!1)}},P=async e=>{if(e.preventDefault(),!t||!m)return void A("Please fill in all fields","error");if(m.length<6)return void A("Password must be at least 6 characters","error");try{h(!0);let e=(0,d.b)();if(!e)return void A("Supabase not initialized","error");let{error:r}=await e.auth.signUp({email:t,password:m,options:{emailRedirectTo:"".concat(window.location.origin,"/dashboard")}});if(r)throw r;S(t),j(!0)}catch(e){A(e instanceof Error?e.message:"An error occurred","error")}finally{h(!1)}},_=async()=>{try{h(!0);let e=(0,d.b)();if(!e)return void A("Supabase not initialized","error");let{error:r}=await e.auth.resend({type:"signup",email:N});if(r)throw r;A("Verification email sent!","success")}catch(e){A(e instanceof Error?e.message:"An error occurred","error")}finally{h(!1)}},R=async e=>{if(e.preventDefault(),!t)return void A("Please enter your email address","error");try{h(!0);let e=(0,d.b)();if(!e)return void A("Supabase not initialized","error");let{error:r}=await e.auth.resetPasswordForEmail(t,{redirectTo:"".concat(window.location.origin,"/auth")});if(r)throw r;A("Password reset link sent to your email!","success"),v(!1)}catch(e){A(e instanceof Error?e.message:"An error occurred","error")}finally{h(!1)}};return w?(0,a.jsx)("div",{className:"min-h-screen bg-main-bg flex items-center justify-center px-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full",children:[(0,a.jsx)("div",{className:"text-center mb-8",children:(0,a.jsx)(n(),{href:"/",className:"text-2xl font-medium text-primary-text no-underline tracking-wide",children:"Rarity Leads"})}),(0,a.jsxs)("div",{className:"bg-card-bg border border-border rounded-card p-8",children:[(0,a.jsx)("h3",{className:"text-xl font-medium text-primary-text mb-4 text-center",children:"Please verify your email"}),(0,a.jsxs)("p",{className:"text-secondary-text text-center mb-6",children:["We've sent a verification link to ",(0,a.jsx)("strong",{className:"text-primary-text",children:N}),"."]}),(0,a.jsx)(c.A,{onClick:_,loading:g,"aria-label":"Resend Verification Email",className:"w-full",variant:"primary",children:g?"Sending...":"Resend Verification Email"}),(0,a.jsx)(c.A,{onClick:()=>{j(!1),r("login")},variant:"secondary","aria-label":"Back to Login",className:"w-full mt-3",children:"Back to Login"})]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-main-bg flex items-center justify-center px-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full",children:[(0,a.jsx)("div",{className:"text-center mb-8",children:(0,a.jsx)(n(),{href:"/",className:"text-2xl font-medium text-primary-text no-underline tracking-wide",children:"Rarity Leads"})}),(0,a.jsxs)("div",{className:"bg-card-bg border border-border rounded-card p-8",children:[(0,a.jsxs)("div",{className:"flex mb-8 bg-button-bg rounded-btn p-1",children:[(0,a.jsx)(c.A,{onClick:()=>r("login"),variant:"login"===e?"primary":"secondary","aria-label":"Sign In",className:"flex-1 py-2 px-4",children:"Sign In"}),(0,a.jsx)(c.A,{onClick:()=>r("register"),variant:"register"===e?"primary":"secondary","aria-label":"Register",className:"flex-1 py-2 px-4",children:"Register"})]}),p&&(0,a.jsx)("div",{className:"mb-6 p-4 rounded-btn text-sm ".concat("success"===p.type?"bg-green-900/20 text-green-400 border border-green-800":"bg-red-900/20 text-red-400 border border-red-800"),children:p.text}),"login"===e&&!y&&(0,a.jsxs)("form",{onSubmit:E,className:"space-y-6",children:[(0,a.jsxs)(c.A,{type:"button",onClick:C,loading:g,"aria-label":"Sign in with Google",className:"w-full bg-transparent text-primary-text border border-border rounded-btn py-3 px-6 flex items-center justify-center gap-3 transition-colors hover:bg-button-bg disabled:opacity-50",variant:"outline",children:[(0,a.jsx)(l.default,{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",width:20,height:20,unoptimized:!0}),"Sign in with Google"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-border"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-card-bg text-secondary-text",children:"or"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"login-email",className:"block text-sm font-medium text-primary-text mb-2",children:"Email address"}),(0,a.jsx)("input",{type:"email",id:"login-email",value:t,onChange:e=>i(e.target.value),className:"w-full bg-main-bg border border-border rounded-btn px-4 py-3 text-primary-text placeholder-secondary-text focus:outline-none focus:ring-2 focus:ring-border",placeholder:"Enter your email",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"login-password",className:"block text-sm font-medium text-primary-text mb-2",children:"Password"}),(0,a.jsx)("input",{type:"password",id:"login-password",value:m,onChange:e=>u(e.target.value),className:"w-full bg-main-bg border border-border rounded-btn px-4 py-3 text-primary-text placeholder-secondary-text focus:outline-none focus:ring-2 focus:ring-border",placeholder:"Enter your password",required:!0})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:b,onChange:e=>x(e.target.checked),className:"mr-2"}),(0,a.jsx)("span",{className:"text-sm text-secondary-text",children:"Remember me"})]}),(0,a.jsx)(c.A,{type:"button",onClick:()=>v(!0),variant:"outline","aria-label":"Forgot password",className:"text-sm text-primary-text hover:text-secondary-text transition-colors",children:"Forgot password?"})]}),(0,a.jsx)(c.A,{type:"submit",loading:g,"aria-label":"Sign In",className:"w-full",children:g?"Signing in...":"Sign In"})]}),"register"===e&&(0,a.jsxs)("form",{onSubmit:P,className:"space-y-6",children:[(0,a.jsxs)(c.A,{type:"button",onClick:C,loading:g,"aria-label":"Sign up with Google",className:"w-full bg-transparent text-primary-text border border-border rounded-btn py-3 px-6 flex items-center justify-center gap-3 transition-colors hover:bg-button-bg disabled:opacity-50",variant:"outline",children:[(0,a.jsx)(l.default,{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",width:20,height:20,unoptimized:!0}),"Sign up with Google"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,a.jsx)("div",{className:"w-full border-t border-border"})}),(0,a.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,a.jsx)("span",{className:"px-2 bg-card-bg text-secondary-text",children:"or sign up with email"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"register-email",className:"block text-sm font-medium text-primary-text mb-2",children:"Email address"}),(0,a.jsx)("input",{type:"email",id:"register-email",value:t,onChange:e=>i(e.target.value),className:"w-full bg-main-bg border border-border rounded-btn px-4 py-3 text-primary-text placeholder-secondary-text focus:outline-none focus:ring-2 focus:ring-border",placeholder:"Enter your email",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"register-password",className:"block text-sm font-medium text-primary-text mb-2",children:"Password"}),(0,a.jsx)("input",{type:"password",id:"register-password",value:m,onChange:e=>u(e.target.value),minLength:6,className:"w-full bg-main-bg border border-border rounded-btn px-4 py-3 text-primary-text placeholder-secondary-text focus:outline-none focus:ring-2 focus:ring-border",placeholder:"Enter your password (min 6 characters)",required:!0})]}),(0,a.jsx)(c.A,{type:"submit",loading:g,"aria-label":"Create Account",className:"w-full",children:g?"Creating account...":"Create Account"})]}),y&&(0,a.jsxs)("form",{onSubmit:R,className:"space-y-6",children:[(0,a.jsx)("h3",{className:"text-xl font-medium text-primary-text mb-4 text-center",children:"Reset Password"}),(0,a.jsx)("p",{className:"text-secondary-text text-center mb-6",children:"Enter your email address to receive a password reset link."}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"reset-email",className:"block text-sm font-medium text-primary-text mb-2",children:"Email address"}),(0,a.jsx)("input",{type:"email",id:"reset-email",value:t,onChange:e=>i(e.target.value),className:"w-full bg-main-bg border border-border rounded-btn px-4 py-3 text-primary-text placeholder-secondary-text focus:outline-none focus:ring-2 focus:ring-border",placeholder:"Enter your email",required:!0})]}),(0,a.jsx)(c.A,{type:"submit",loading:g,"aria-label":"Send Reset Link",className:"w-full",children:g?"Sending...":"Send Reset Link"}),(0,a.jsx)(c.A,{type:"button",onClick:()=>v(!1),variant:"secondary","aria-label":"Cancel",className:"w-full",children:"Cancel"})]})]})]})})}},1993:(e,r,t)=>{Promise.resolve().then(t.bind(t,1579))},2099:(e,r,t)=>{"use strict";t.d(r,{b:()=>n});var a=t(5647),s=t(9509);let i=null,n=()=>{if(!i){let e=s.env.NEXT_PUBLIC_SUPABASE_URL,r=s.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;e&&r&&(i=(0,a.UU)(e,r))}return i}},3741:(e,r,t)=>{"use strict";t.d(r,{A:()=>d});var a=t(5155),s=t(2115),i=t(2596),n=t(1934);let l={primary:"bg-gradient-to-r from-[#6D28D9] via-[#8B5CF6] to-[#232336] text-white shadow-lg hover:from-[#8B5CF6] hover:to-[#6D28D9] border-none",secondary:"bg-button-bg text-button-text border border-border hover:bg-button-hover-bg",outline:"bg-transparent text-primary-text border border-[#8B5CF6] hover:bg-[#232336] hover:text-white",danger:"bg-red-700 text-white border border-red-800 hover:bg-red-800"},o=(0,s.forwardRef)((e,r)=>{let{children:t,className:s,variant:o="primary",loading:d=!1,disabled:c,...m}=e;return(0,a.jsxs)(n.P.button,{ref:r,className:(0,i.A)("inline-flex items-center justify-center font-medium rounded-full px-8 py-4 text-lg transition-all duration-300 min-w-[160px] text-center group select-none disabled:opacity-50 disabled:cursor-not-allowed",l[o],s),whileHover:{scale:1.06,boxShadow:"0 2px 16px 0 rgba(139, 92, 246, 0.12)"},whileTap:{scale:.97},disabled:c||d,"aria-busy":d,...m,children:[d?(0,a.jsx)("span",{className:"inline-block animate-spin mr-2 w-5 h-5 border-2 border-t-transparent border-white rounded-full"}):null,t]})});o.displayName="Button";let d=o}},e=>{var r=r=>e(e.s=r);e.O(0,[874,934,825,627,441,684,358],()=>r(1993)),_N_E=e.O()}]);